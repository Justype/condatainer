Bootstrap: docker
From: ubuntu:24.04

%labels
    Author Ziyue Cheng
    Version 1.0
    Description "Ubuntu24 with essential build tools"

%environment
    export LC_ALL=C.UTF-8
    export LANG=C.UTF-8
    export PS1='CNT \w> '

%runscript
    exec /bin/bash "$@"	

%post
    # Avoid interactive prompts
    export DEBIAN_FRONTEND=noninteractive

    apt-get -y update && apt-get -y upgrade

    ## C and C++
    apt-get -y install \
        build-essential pkg-config git wget curl zip \
        g++ clang gfortran \
        ninja-build make cmake doxygen autoconf automake

    ## RStudio libs
    apt-get -y install libssl-dev libclang-dev libsqlite3-0
    apt-get -y install pandoc # for markdown rendering

    ## Python
    apt-get -y install python3-pip python3-venv python-is-python3
    # PyTorch
    apt-get -y install libglib2.0-0 libsm6 libxrender1 libxext6

    ## R packages
    # libicu70 stringr
    wget -nv -O libicu70.deb https://launchpad.net/ubuntu/+source/icu/70.1-2/+build/23145450/+files/libicu70_70.1-2_amd64.deb
    dpkg -i libicu70.deb && rm libicu70.deb
    # Generated using ubuntu24 by group_apt_by_rpkg.py
    apt-get -y install automake # surveyvoi
    apt-get -y install bwidget # FFD MDSGUI PBSmodelling asbio biplotbootGUI canceR cncaGUI multibiplotGUI
    # apt-get -y install chromium # RPushbullet chromote nomnoml qtkit
    apt-get -y install cmake # ROpenCVLite RbowtieCuda RcppPlanc abn arrow crc32c highs libdeflate libimath libopenexr nanonext nloptr otelsdk rbedrock rswipl s2 symengine tiledb watcher
    # apt-get -y install coinor-libclp-dev # pcaL1
    # apt-get -y install coinor-libsymphony-dev # Rsymphony
    # apt-get -y install coinor-symphony # Rsymphony
    # apt-get -y install dcraw # adimpro
    apt-get -y install default-jdk # AWR BeastJar CBSr CHRONOS ChoR CirceR CommonJavaJars Crossover DatabaseConnector Deducer EvidenceSynthesis GreedyExperimentalDesign GreedyExperimentalDesignJARs InSilicoVA JGR JavaGD KEGGlincs LeafArea NGCHM OnassisJavaLibs OpenStreetMap RBioFormats RH2 RJDemetra RJSDMX RKEA RKEAjars RKEEL RMOA RMOAjars RNetLogo RWeka RWekajars Rcurvep RedeR SDMtune SELEX SqlRender XLConnect arulesCBA arulesNBMiner bartMachine bartMachineJARs bfw coreNLP corehunter debCAM denguedatahub dialr dialrjars dismo fastreeR fsdaR gMCP ggdemetra glmulti h2o helloJavaWorld iBART informativeSCI mailR mallet matchingMarkets metabinR mutossGUI mwa mwcsr nlrx openNLP openNLPdata pathfindR qCBA r.blip r2pmml r5r rCBA rGroovy rJava rRDP rapidraker rcdk restoptr rflsgen rjd3toolkit rjdmarkdown rjdqa rkafkajars rmcfs rmelting rsparkling rsubgroup rtika rviewgraph sarks simona simplace slowraker spcosa staplr streamMOA tabulapdf transcriptogramer venneuler wordnet xlsx xlsxjars
    apt-get -y install gdal-bin # CoordinateCleaner FedData GWnnegPCA GWpcor IceSat2R PlanetNICFI RCzechia abn bamm concaveman deforestable ebvcube emodnet.wfs esviz evapoRe gdalcubes gdalraster ggseg manureshed mapme.biodiversity mlr nlrx pRecipe sapo sf smile spatsoc terra tiler twc vapour warbleR
    apt-get -y install git # NGCHM RcppPlanc credentials dataMaid dataReporter fgitR findInGit gitcreds gittargets precommit remotes switchr tiledb updateObject
    # apt-get -y install gsfonts # Thermimage adimpro animation bamm colorizer flowcatchR idm magick magickGUI oceanmap webshot
    # apt-get -y install imagej # LeafArea
    apt-get -y install jags # BCHM BTSPAS BaHZING BayLum BayesCACE BayesGWQS BayesPostEst BayesTools BeQut COMBO EBASE EWOC.Comb EcoDiet HiLDA ISEtools JMbayes JointAI MBNMAdose MBNMAtime MethComp MigConnectivity MixSIAR NMADTA NobBS PVAClone R2jags RcmdrPlugin.RMTCJags RoBMA RoBSA Romeb SIBER TreeBUGS UHM abn altmeta artma bacistool baker bamdit bayescount beer bfw bhmbasket bsam dclone dcmle infercnv jagsUI jagstargets jarbes lcra lira mlr morse neojags occumb optimalThreshold ordinalbayes pcnetmeta phase1PRMD popbayes prevalence remiod rjags runjags saeHB saeHB.panel saeHB.panel.beta saeHB.spatial saeHB.twofold saeHB.unit sharx sims snSMART sparsesurv surveyvoi unmconf
    apt-get -y install make # ABC.RAP AovBay BASiCStan BGVAR BIDistances BINtools BPrinStratTTE BSPBSS BUSpaRse BayesGmed BayesGrowth BayesSenMC BayesXsrc BayesianPlatformDesignTimeTrend BeeGUTS Bernadette BigDataStatMeth BioCro BivRec Boom CARME CNVRG CWT CaseBasedReasoning CausalQueries ChemmineR ClustIRR CompositionalRF CytoML DA DCPO DER DNAtools DataVisualizations DatabionicSwarm DiffBind DropletUtils ECOSolveR EcoEnsemble EloSteepness EpiNow2 EpiPvr Epoch FLAMES FLSSS FlexReg GBScleanR GGPA GPA GUD GWmodel GeneralizedUmatrix GeneralizedUmatrixGPU GeoFIS HD2013SGI HIBAG HilbertVisGUI IBRtools IgGeneUsage IncDTW JavaGD LMMELSM MADPop MDCcure MIRES MSCA MUACz MetaStan MetaboDynamics NNS OncoBayes2 OpenCL OpenMx Orcs PRIMME PReMiuM PSPI PoolTestR ProbBreed QuantRegGLasso QuasR QuickJSR R2D2ordinal RBesT RCurl RProtoBufLib RSiena RUCova Rarr Rbowtie Rbowtie2 RbowtieCuda Rbwa RcppCWB RcppMeCab RcppParallel RcppPlanc Rfastp Rhdf5lib Rhisat2 Rlgt Rmixmod RoBTT Rsamtools Rserve Rsomoclu Rtwobitlib SAIGEgds SAR SLGP SVP Scalelink SharedObject SimJoint SparseChol SpatMCA SpatPCA SpliceWiz StMoSim StanHeaders StanMoMo TCIU TDA TableContainer TriDimRegression VariantAnnotation WhiteLabRt YPBP YPPE adass alabaster.base aphid asteRisk baggr bakR baldur bamsignals batchmix bayes4psy bayesZIB bayesdfa bayesforecast bayeslist bbmix bcf beachmat.hdf5 beastt bellreg bennu bfp bioacoustics birdie bistablehistory blavaan blockcluster bmgarch bmggum bmlm bmstdr bootUR breathteststan bsynth bws catSurv cbq chihaya clarabel cloneRate clustTMB conStruct concatipede conleyreg cppRouting crownsegmentr csaw ctsem cubature cvLM cytolib dada2 dbmss decontX deepSNV densEstBayes detectXOR detrendr diffHic diffuStats disaggregation disbayes distops divent dodgr drf dtwclust dynBiplotGUI dynr eDNAjoint eaf eggCounts epialleleR epigraHMM expertsurv eyelinkReader fasano.franceschini.test fastTopics fastglmpca fcirt fdaPDE flowClust flowCore flowDensity flowWorkspace fpROC fs gKRLS gastempt geostan ggsc gibasa glmmPen glmmTMB glmmfields glmmrBase glmmrOptim gravmagsubs greencrab.toolkit grf h5mread h5vc haven hbamr hermiter hgwrr historicalborrowlong hmde hpa hsstan httpuv hwep imt intervalpsych irace jackalope jfa kmeRtone lamW latentnet leidenAlg lessSEM lgpr libdeflate libimath libopenexr lightAUC link2GI lpcde lpsymphony luajr mHMMbayes maftools mappoly mapview maq markovchain matrixprofiler mbbefd measr metaBMA methylKit milr miniLNM minqa mitoClone2 mlts mobileRNA modeLLtest moocore morseTKTD mosbi mr.mashr mrbayes msa multibridge multinma multipleDL mzR navigation netboost networkscaleup nimble numbat odbc oncomsm openCR otelsdk parTimeROC patternplot pcFactorStan pcaone pema phacking phylopairs podkat ppcseq pprof pqsfinder prome prophet psBayesborrow psrwe publipha qckitfastq qs2 quantdr rJava rPBK rPref rTRNG raer ramr rapidjsonr rater rbedrock rbioacc rcbayes represtools reservr rhdf5 rhdf5filters rmBayes rmsb rmumps rofanova roll rolog ropenblas rpf rstan rstanarm rstanbdp rstanemax rswipl rticles rtkore rts2 rubias runibic saeHB.TF.beta sass scGPS scMET scPipe scistreer scrapper screenCounter scs sdmTMB secr secrfunc sentometrics seqHMM seqminer seqtrie serofoi serosv smam smer smoothemplik sparsenetgls spsurv ssMousetrack stplanr stringfish survHE surveil survextrap survstan symengine textmineR textrecipes thurstonianIRT tidysq tipsae tmbstan trialr truncnormbayes tsmarch tsmp tsnet uavRmp ubms unmarked vcfppR vol2birdR walker warbleR websocket winputall xgboost zoid
    # apt-get -y install nvidia-cuda-dev # RbowtieCuda gcbd
    # apt-get -y install ocl-icd-opencl-dev # GeneralizedUmatrixGPU OpenCL gpuMagic
    apt-get -y install pandoc # BIDistances CHRONOS DataExplorer DataPackageR DatabionicSwarm DiscoRhythm EpiSignalDetection FCPS GeneralizedUmatrix GeneralizedUmatrixGPU GerminaR NACHO OncoBayes2 PTXQC Plasmidprofiler PreKnitPostHTMLRender RAQSAPI RBesT RCAS REPLesentR RmdConcord StanHeaders TDCM TreeDist abseqR accessr anticlust apathe autoharp bayesplot biblio blandr blastula blogdown bookdown breathtestcore brinton bssm clinDataReview clinUtils coveffectsplot crandep dataMaid dataReporter dbmss divent emayili entropart exams ezknitr flexsiteboard footBayes frequency ftExtra ggExtra ggquickeda ggtrace glioblastomaEHRsData govdown goxygen grwat hoopR huito idiogramFISH igate inTextSummaryTable inlpubs inti knitr learnr lightsout loo memoiR mindr minidown nbconvertR nlrx oddsapiR officedown openPrimeR opencpu pagedown pander pandocfilters papaja paws.common pedometrics phonfieldwork pivmet pkgdown pkgnews prettydoc rapport rchallenge reportfactory reprex revise rfriend rgl rmarkdown rmdfiltr rstan rstanarm rstantools rswipl shinyInvoice shinyWGD shinyloadtest shinyscholar simplermarkdown sportyR tables texor texreg tidycwl vitae worcs workflowr yamlme
    # apt-get -y install pari-gp # elliptic untb
    # apt-get -y install patch # RcppPlanc rdataretriever
    apt-get -y install perl # Fluidigm GetoptLong ModCon Thermimage WriteXLS exifr exiftoolr geno2proteo mosaics netboost simona ubiquity varitas webbioc
    apt-get -y install pkg-config # abn highs ravetools
    apt-get -y install protobuf-compiler # RProtoBuf bigrquerystorage cld3 factset.protobuf.stach.v2 otelsdk protolite tfevents
    apt-get -y install protobuf-compiler-grpc # bigrquerystorage
    apt-get -y install python3 # BayesianInference BiocSklearn CoNI CytOpT DNNSIM DiNAMIC.Duo FMAT GeoMongo IRkernel LLMing MFSIS MOFA2 MaOEA PKbioanalysis ProcData PytrendsLongitudinalR RAthena RFLOMICS RGF RPyGeo ReSurv VertexWiseR acro altair argparse autotab bdpar botor bspm caracas causact cleanNLP cloudml copernicusR elexr excerptr fastGLCM fuzzywuzzyR guildai h2o4gpu hicream idr2d immApex ip2location ip2locationio ip2proxy ip2whois meltt motifr msImpute nbconvertR neptune neuralGAM ngboostForecast nmslibR pdfminer pharmr pysd2r rMIDAS rasciidoc rdataretriever redist reservoirnet reticulate rgeedim scBubbletree sendigR seqArchR slendr ssw stanza stressor sudachir symSEM text tiler topics trackdem xlcharts
    # apt-get -y install saga # RSAGA Rsagacmd
    # apt-get -y install software-properties-common # RPushbullet chromote nomnoml qtkit
    # apt-get -y install tcl # DALY biplotbootGUI cncaGUI forensim juicr metagear multibiplotGUI rriskDistributions tcltk2 tkImgR tkRplotR
    # apt-get -y install tesseract-ocr-eng # inlpubs orderanalyzer tesseract
    # apt-get -y install texlive # SGP animation bamm huxtable patientProfilesVis rgl texreg
    # apt-get -y install tk # DALY biplotbootGUI cncaGUI forensim juicr metagear multibiplotGUI rriskDistributions tcltk2 tkImgR tkRplotR
    # apt-get -y install tk-dev # DALY biplotbootGUI cncaGUI forensim juicr metagear multibiplotGUI relMix rriskDistributions tcltk2 tkImgR tkRplotR
    # apt-get -y install tk-table # DALY MDSGUI canceR forensim maGUI rriskDistributions tcltk2
    apt-get -y install unixodbc-dev # RODBC odbc readepi
    apt-get -y install xz-utils # arcgisgeocode arcgisutils b64 caugi duckdb enderecobr fio nanonext socratadata waysign yaml12 ymd
    apt-get -y install zlib1g-dev # TAQMNGR devEMF haven httpuv ijtiff ndjson otelsdk rbedrock rgl rmatio seqinr seqminer showtext sysfonts writexl
    apt-get -y install libabsl-dev # s2
    apt-get -y install libapparmor-dev # RAppArmor opencpu unix
    apt-get -y install libarchive-dev # archive rswipl
    apt-get -y install libavfilter-dev # av
    apt-get -y install libblosc-dev # blosc
    apt-get -y install libboost-all-dev # RQuantLib
    apt-get -y install libbz2-dev # Rhtslib ijtiff
    apt-get -y install libcairo2-dev # Cairo gdtools patientProfilesVis unigd
    apt-get -y install libcurl4-openssl-dev # RCurl Rhtslib Rpadrino abn arrow bioimagetools cogmapr curl localLLM mRpostman nucim otelsdk strawr vcfppR
    apt-get -y install libeigen3-dev # ChemmineOB
    apt-get -y install libfftw3-dev # KSgeneral LOMAR MFPCA OpenImageR PoissonBinomial PoissonMultinomial Rssa SuperGauss bioacoustics bioimagetools cartogramR diversitree fftw fftwtools ijtiff image.CannyEdges imager kza nucim poisbinom qqconf ravetools spate specklestar surveyvoi tsapp warbleR
    apt-get -y install libflint-dev # flint
    apt-get -y install libfluidsynth-dev # fluidsynth
    apt-get -y install libfontconfig1-dev # devEMF gdtools systemfonts unigd
    apt-get -y install libfreetype6-dev # gdtools ragg rgl showtext sysfonts systemfonts textshaping unigd xdvir
    apt-get -y install libfribidi-dev # textshaping
    apt-get -y install libgdal-dev # CoordinateCleaner FedData GWnnegPCA GWpcor IceSat2R PlanetNICFI RCzechia abn bamm concaveman deforestable ebvcube emodnet.wfs esviz evapoRe gdalcubes gdalraster ggseg manureshed mapme.biodiversity mlr nlrx pRecipe sapo sf smile spatsoc terra tiler twc vapour warbleR
    apt-get -y install libgeos-dev # GWmodelVis GWnnegPCA GWpcor RCzechia abn apcf bamm concaveman deforestable emodnet.wfs esviz exactextractr gdalraster ggseg lwgeom manureshed mlr nlrx sapo sf smile spatsoc terra
    apt-get -y install libgit2-dev # gert git2r
    apt-get -y install libgl1-mesa-dev # rgl
    apt-get -y install libglib2.0-dev # RcppCWB Rpoppler
    apt-get -y install libglpk-dev # MMUPHin Rglpk glpkAPI igraph leidenAlg rDEA sdcTable
    apt-get -y install libglu1-mesa-dev # mlr rgl
    apt-get -y install libgmp3-dev # GeoFIS LOMAR PMCMRplus RcppAlgos RcppBigIntAlgos Rmpfr SymbolicDeterminants TDA arrangements blindreview flint forsearch gmp hypergeo2 interpolation kantorovich mlr multibridge rcdd sbrl scModels soilhypfit surveyvoi symengine
    apt-get -y install libgrpc++-dev # bigrquerystorage
    apt-get -y install libgsl0-dev # AMOUNTAIN BayesVarSel CLVTools COveR DirichletMultinomial EHRmuse GLAD GPBayes GeneralizedWendland LCMCR LDATS Libra PEPBVS QF RDieHarder RcppGSL Rlibeemd SimInf VBLPCM abn bootStateSpace cTMed cit coga diversitree dti eaf econetwork excursions fRLR flan flowPeaks gsl gslnls hSDM iBMQ jSDM landsepi libstable4u minimaxALT mixture mlr monoreg mvst ridge rnetcarto rtmpt sbrl simStateSpace smam spaMM stpphawkes survSNP topicmodels vol2birdR
    apt-get -y install libharfbuzz-dev # textshaping
    apt-get -y install libhdf5-dev # HighFive RcppPlanc hdf5r rblt readNSx vol2birdR
    apt-get -y install libhiredis-dev # RcppRedis RedisParam redux
    apt-get -y install libicu-dev # stringi
    apt-get -y install libimage-exiftool-perl # Thermimage camtrapR trackdem xmpdf
    apt-get -y install libjpeg-dev # OpenImageR abn cpp11qpdf ijtiff jpeg qpdf ragg readbitmap tiff
    apt-get -y install libjq-dev # jqr
    apt-get -y install libleptonica-dev # orderanalyzer tesseract
    apt-get -y install liblzma-dev # Rhtslib ijtiff rswipl
    apt-get -y install libmagic-dev # bamm
    apt-get -y install libmagick++-dev # Thermimage adimpro animation bamm colorizer flowcatchR idm magick magickGUI oceanmap webshot
    apt-get -y install libmecab-dev # RcppMeCab gibasa
    apt-get -y install libmpfr-dev # GeoFIS PMCMRplus Rmpfr flint hypergeo2 mlr multibridge scModels soilhypfit surveyvoi symengine
    apt-get -y install libmysqlclient-dev # RMariaDB RMySQL
    apt-get -y install libnetcdf-dev # HiClimR RNetCDF chopin easyNCDF evapoRe gdalcubes ncdf4 pRecipe tidync twc
    apt-get -y install libnode-dev # V8 h3jsr
    apt-get -y install libopenbabel-dev # ChemmineOB RMassBank
    apt-get -y install libopencv-dev # fastGLCM opencv
    apt-get -y install libopenmpi-dev # bigGP mlr pbdMPI pbdSLAP
    apt-get -y install libpng-dev # OpenImageR ggiraph image.CannyEdges png ragg readbitmap rgl rvg showtext svglite sysfonts unigd vdiffr
    apt-get -y install libpoppler-cpp-dev # pdftools
    apt-get -y install libpoppler-glib-dev # Rpoppler
    apt-get -y install libpq-dev # DIZutils RPostgres rpostgis
    apt-get -y install libproj-dev # GWnnegPCA GWpcor PROJ RCzechia abn bamm concaveman deforestable emodnet.wfs esviz evapoRe gdalcubes ggseg lwgeom manureshed mapme.biodiversity mlr nlrx pRecipe proj4 reproj sapo sf smile spatsoc terra twc vapour vol2birdR
    apt-get -y install libprotobuf-dev # RProtoBuf bigrquerystorage cld3 factset.protobuf.stach.v2 otelsdk protolite tfevents
    apt-get -y install libprotoc-dev # RProtoBuf bigrquerystorage cld3 factset.protobuf.stach.v2 otelsdk protolite tfevents
    apt-get -y install libqgis-dev # qgisprocess
    apt-get -y install libquantlib0-dev # RQuantLib
    apt-get -y install librdf0-dev # redland
    apt-get -y install librsvg2-dev # rsvg
    apt-get -y install libsasl2-dev # mongolite
    apt-get -y install libsecret-1-dev # keyring
    apt-get -y install libsndfile1-dev # seewave warbleR
    apt-get -y install libsodium-dev # sodium
    apt-get -y install libsqlite3-dev # adbcsqlite bamm deforestable gdalcubes lwgeom pmparser sf spatsoc terra
    apt-get -y install libssh-dev # plumberDeploy ssh
    apt-get -y install libssh2-1-dev # git2r plumberDeploy ssh
    apt-get -y install libssl-dev # CeTF GGally MIMSunit PKI Rpadrino abn arcgisplaces arrow bioimagetools cogmapr curl git2r mRpostman mongolite nlrx nucim openssl s2 strawr vcfppR websocket
    apt-get -y install libtesseract-dev # inlpubs orderanalyzer tesseract
    apt-get -y install libtiff-dev # bioimagetools ijtiff imager nucim ragg tiff
    apt-get -y install libudunits2-dev # RNetCDF abn nlrx tidync units
    apt-get -y install libwebp-dev # ijtiff ragg webp
    apt-get -y install libx11-dev # altair clipr ijtiff imager juicr metagear rde tkrplot vegawidget
    apt-get -y install libxml2-dev # CeTF MIMSunit NetPathMiner XML igraph inlpubs leidenAlg nlrx orderanalyzer xml2
    apt-get -y install libxslt-dev # xslt
    apt-get -y install libzmq3-dev # clustermq pbdZMQ rzmq
    apt-get -y install libzstd-dev # ijtiff nanoarrow rswipl

    apt-get clean && rm -rf /var/lib/apt/lists/*
