Bootstrap: docker
From: ubuntu:22.04

%labels
    Author Ziyue Cheng
    Version 1.0
    Description "Ubuntu22 with code-server"

%environment
    export LC_ALL=C.UTF-8
    export LANG=C.UTF-8
    export PS1='CNT \w> '

%runscript
    exec /bin/bash "$@"	

%post
    # Avoid interactive prompts
    export DEBIAN_FRONTEND=noninteractive

    apt-get -y update && apt-get -y install curl
    curl -fsSL https://code-server.dev/install.sh | sh

    apt-get clean && rm -rf /var/lib/apt/lists/*
